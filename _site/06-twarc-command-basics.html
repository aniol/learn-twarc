<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Twarc Command Basics &middot; Learn Twarc!
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/learn-twarc/assets/css/poole.css">
  <link rel="stylesheet" href="/learn-twarc/assets/css/syntax.css">
  <link rel="stylesheet" href="/learn-twarc/assets/css/hyde.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <!-- <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/learn-twarcpublic/apple-touch-icon-144-precomposed.png"> -->
                                 <!-- <link rel="shortcut icon" href="/learn-twarcpublic/favicon.ico"> -->

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-dn">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/learn-twarc">
          Learn Twarc!
        </a>
      </h1>
      <p class="lead">Start using twarc for twitter data collection.</p>
    </div>

    <nav class="sidebar-nav">
      <!-- <a class="sidebar-nav-item" href="/learn-twarc">Home</a> -->

      

      
      
        
          
            <a class="sidebar-nav-item" href="/learn-twarc/01-quick-start.html">Quickstart Guide</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/learn-twarc/02-twitter-setup.html">Twitter Setup</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/learn-twarc/03-command-line-basics.html">Command Line Basics</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/learn-twarc/04-install-python.html">Install Python</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/learn-twarc/05-install-twarc.html">Install & Configure Twarc</a>
          
        
      
        
          
            <a class="sidebar-nav-item active" href="/learn-twarc/06-twarc-command-basics.html">Twarc Command Basics</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/learn-twarc/07-twarc-utilities.html">Twarc Utilities</a>
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
      
        
      
        
      
    </nav>

    <p><a style="font-size: 1rem;font-weight: 300;" href="https://www.docnow.io/">DocNow</a></p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <!-- <h1 class="page-title">Twarc Command Basics</h1> -->
  <h1 class="no_toc" id="start-collecting-twarc-command-basics">Start Collecting: Twarc Command Basics</h1>

<p>Let’s start collecting tweets! Consider using a spreadsheet to keep track of the datasets you create using Twarc. You can use this <a href="https://docs.google.com/spreadsheets/d/1FJ-wdIXZWcA8OTc1A9xtkVrho6FZ8TwkdVpbaoK4CRA/edit?usp=sharing" target="_blank">Collection Template</a> to get started. Click on the <a href="https://docs.google.com/spreadsheets/d/1FJ-wdIXZWcA8OTc1A9xtkVrho6FZ8TwkdVpbaoK4CRA/edit?usp=sharing" target="_blank">template link</a> to open, select File &gt; Make a Copy to create an editable document in your Google Drive.</p>

<h2 class="no_toc" id="using-twarc-a-typical-workflow">Using Twarc: A Typical Workflow</h2>

<p>Each time you use twarc to collect twitter data, start here:</p>
<ol>
  <li><strong>Use the command line to navigate into your twarc folder</strong>
    <ul>
      <li><strong>Open</strong> the Terminal application (MacOS users), or Command Prompt (Windows users)</li>
      <li><strong>Navigate</strong> into the twarc folder on your desktop, or another folder where you want to save your twitter data, using the <a href="/learn-twarc/03-command-line-basics"><code class="highlighter-rouge">cd</code> <strong>change directory</strong> command</a>. In your shell prompt, type in <code class="highlighter-rouge">cd</code> followed by the path of your twarc folder, then press enter.</li>
    </ul>
  </li>
  <li><strong>Start Twarcing!</strong>
    <ul>
      <li><strong>Enter</strong> the twarc commands into your command line, following the detailed usage guides below. 
 <!-- - **Usage Guides:** [for MacOS](/learn-twarc/06-usage-mac) \| [for Windows](/learn-twarc/06-usage-windows) --></li>
    </ul>
  </li>
</ol>

<h2 class="no_toc" id="twarc-usage-guide">Twarc Usage Guide:</h2>
<!-- ### [for MacOS](/learn-twarc/06-usage-mac) \| [for Windows](/learn-twarc/06-usage-windows) -->

<p>For the following twarc lessons, all <code><span style="color:blue">blue text</span></code> can be modified to fit your purpose. These are either file names or search/filter terms.</p>

<p>Use the Table of Contents below to quickly navigate this guide.</p>

<h3 class="no_toc" id="table-of-contents">Table of contents</h3>

<ol id="markdown-toc">
  <li><a href="#search" id="markdown-toc-search">Search</a></li>
  <li><a href="#more-search-examples" id="markdown-toc-more-search-examples">More Search Examples</a></li>
  <li><a href="#filter" id="markdown-toc-filter">Filter</a></li>
  <li><a href="#users" id="markdown-toc-users">Users</a></li>
  <li><a href="#followers" id="markdown-toc-followers">Followers</a></li>
  <li><a href="#friends" id="markdown-toc-friends">Friends</a></li>
  <li><a href="#dehydrated-and-rehydrated-data-sets" id="markdown-toc-dehydrated-and-rehydrated-data-sets">Dehydrated and Rehydrated Data Sets</a>    <ol>
      <li><a href="#dehydrate-your-dataset" id="markdown-toc-dehydrate-your-dataset">Dehydrate your Dataset</a></li>
      <li><a href="#rehydrate-a-dataset" id="markdown-toc-rehydrate-a-dataset">Rehydrate a Dataset</a></li>
    </ol>
  </li>
</ol>

<hr />

<h2 id="search">Search</h2>
<p>This uses Twitter’s <a href="https://developer.twitter.com/en/docs/api-reference-index">search/tweets</a> to download <em>pre-existing</em> tweets from the prior 7 days matching a given query. You can use any word or hashtag, capitalization does not matter in this case. If you search for a phrase (that includes spaces between words), enclose it within quotes, i.e. “climate strike”. The 7 day window is imposed by Twitter’s search API. To collect tweets as they happen in real time, use the filter command.</p>

<p>Type the following into your command prompt and press enter:</p>

<p><code>twarc search <span style="color:blue">blacklivematter</span> &gt; <span style="color:blue">tweets</span>.jsonl</code></p>

<ul>
  <li>
    <p>Your collection may take some time to return all tweets. You can tell when the process has completed if your terminal has returned to the shell ($) prompt:</p>

    <p><img src="https://scholarslab.github.io/learn-twarc/assets/images/twarc-search.png" alt="Screen shot of twarc search command" /></p>
  </li>
  <li>
    <p>While the prompt is running, check to make sure your command was successful by looking inside the twarc folder. Inside you should see your tweets.jsonl file and a twarc.log file (You don’t need to open these files, just make sure they’ve been created.):</p>

    <p><img src="https://scholarslab.github.io/learn-twarc/assets/images/tweet-data-folder.png" alt="Screen shot of twarc log files" /></p>
  </li>
  <li>
    <p>You can stop the process at any time by entering <strong>Ctrl + C</strong>, but to get the entire collection for your search query, you must keep the process running until it completes.</p>
  </li>
</ul>

<h2 id="more-search-examples">More Search Examples</h2>

<p>Search for tweets from a single user:</p>

<p><code>twarc search <span style="color:blue">from:aoc</span> &gt; <span style="color:blue">tweets_aoc</span>.jsonl</code></p>

<p>The best way to get familiar with Twitter’s search syntax is to experiment with Twitter’s <a href="https://twitter.com/search-advanced">Advanced Search</a> and copy and pasting the resulting query from the search box.</p>

<p>For example, here is a more complicated query that searches for tweets containing either the words climate or action and the hashtag #NewGreenDeal that were sent to @aoc:</p>

<p><img src="https://scholarslab.github.io/learn-twarc/assets/images/twitter-advanced.png" alt="Screen shot of advanced search field" /></p>

<p>For this advanced search query, copy/paste the search box query, contained between two single quotes (‘’) into the twarc search command:</p>

<p><code>twarc search <span style="color:blue">'(climate OR action) (#greennewdeal) (to:aoc)'</span> &gt; <span style="color:blue">tweets</span>.jsonl</code></p>

<p>For more on using the Twarc search command, see the <a href="https://github.com/DocNow/twarc#search">Search section</a> of DocNow’s <a href="https://github.com/DocNow/twarc#usage">Twarc Usage guide</a>.</p>

<h2 id="filter">Filter</h2>

<p>The filter command will use Twitter’s <a href="https://dev.twitter.com/streaming/reference/post/statuses/filter">statuses/filter</a> API to collect tweets as they happen. Type the following into your command prompt and press <strong>enter</strong>:</p>

<p><code>twarc filter <span style="color:blue">climatestrike</span> &gt; <span style="color:blue">tweets</span>.jsonl</code></p>

<ul>
  <li>The filter command will run as long as you let it. You may need a designated computer to run this process without interruption, depending on how long you want to collect tweets for a given query.</li>
  <li>End the process by entering <strong>Ctrl + C</strong>.</li>
</ul>

<p>To collect tweets from a given user id as they happen (this example is collecting tweets from @cnn, you can get an account’s user id using the <a href="#users">Users</a> twarc command below):</p>

<p><code>twarc filter --follow <span style="color:blue">759251</span> &gt; <span style="color:blue">tweets</span>.jsonl</code></p>

<p>Note that the syntax for the Twitter’s track queries is slightly different than what queries in their search API. Please consult the documentation on how best to express the filter option you are using. For more on using the Twarc filter command, see the <a href="https://github.com/DocNow/twarc#filter">Filter section</a> of DocNow’s <a href="https://github.com/DocNow/twarc#usage">Twarc Usage guide</a>.</p>

<h2 id="users">Users</h2>

<p>The users command will return User metadata for the given screen names:</p>

<p><code>twarc users <span style="color:blue">cnn</span> &gt; <span style="color:blue">users</span>.jsonl</code></p>

<p>You can also input user ids:</p>

<p><code>twarc users <span style="color:blue">1232134,1413213</span> &gt; <span style="color:blue">users</span>.jsonl</code></p>

<p>You can also use a text file of user ids, which can be useful if you are using the <a href="#followers">followers</a> and <a href="#friends">friends</a> commands below:</p>

<p><code>twarc users <span style="color:blue">ids</span>.txt &gt; <span style="color:blue">users</span>.jsonl</code></p>

<h2 id="followers">Followers</h2>

<p>The followers command will use Twitter’s follower id API to collect the follower user ids for exactly one user screen name per request as specified as an argument:</p>

<p><code>twarc followers <span style="color:blue">deray</span> &gt; <span style="color:blue">follower_ids</span>.txt</code></p>

<p>The result will include exactly one user id per line. The response order is reverse chronological, or most recent followers first.</p>

<h2 id="friends">Friends</h2>

<p>Like the followers command, the friends command will use Twitter’s friend id API to collect the friend user ids for exactly one user screen name per request as specified as an argument:</p>

<p><code>twarc friends <span style="color:blue">deray</span> &gt; <span style="color:blue">friend_ids</span>.txt<code></code></code></p>

<h2 id="dehydrated-and-rehydrated-data-sets">Dehydrated and Rehydrated Data Sets</h2>

<p>Twitter API’s <a href="https://developer.twitter.com/en/developer-terms/policy#6._Be_a_Good_Partner_to_Twitter">Terms of Service</a> does not allow for making large amounts of raw Twitter data available on the Web. The fully-hydrated Twitter data you collect using Twarc can be used for research and archived for local use, but cannot be shared publicly. However, Twitter does allow files of tweet identifiers to be publicly shared. This is useful for when you would like to make a dataset of tweets available, for example, in <a href="https://www.docnow.io/catalog/">DocNow’s Tweet Catalogue</a>. This is referred to as a “dehydrated” data set - each tweet is reduced to its unique ID number, and a list of these IDs is saved as a text document.</p>

<p>A dehydrated data set can be “rehydrated” using Twarc - Twitter will take each ID and search the current Twitterverse for a corresponding tweet. If it locates a tweet that matches the ID, it will return the original JSON code for that tweet. This process is called “rehydration”, and will return a JSON file containing the data for every tweet that it was able to locate. It’s important to note that any tweet rehydrator can only check for tweets that are currently live - they cannot find tweets that have been deleted or made private since the original collection event.</p>

<h3 id="dehydrate-your-dataset">Dehydrate your Dataset</h3>

<p>Each Tweet in your dataset has a unique identifier. Twarc’s dehydrate command will generate a list of tweet ids from a JSONL file of tweets. To dehydrate your tweets, enter the following command:</p>

<p><code>twarc dehydrate <span style="color:blue">tweets</span>.jsonl &gt; <span style="color:blue">tweet_ids</span>.txt</code></p>

<ul>
  <li>You should now have a text file in your twarc folder containing the unique tweet ids of all tweets in your dataset.</li>
  <li>Open the .txt file to see the list of unique tweet ids:</li>
</ul>

<p><img src="https://scholarslab.github.io/learn-twarc/assets/images/tweet-ids.png" alt="Screen shot of tweet ids txt file" /></p>

<h3 id="rehydrate-a-dataset">Rehydrate a Dataset</h3>

<p>Twarc’s hydrate command will read your file of unique identifiers and write out the tweet JSON for them using Twitter’s <a href="https://developer.twitter.com/en/docs/api-reference-index">status/lookup</a> API. This is useful if you have a set of Twitter ids from another institution and would like to view the full dataset. Documenting the Now has a collection of Tweet ids that you can explore and rehydrate <a href="https://www.docnow.io/catalog/">here</a>.</p>

<p>Rehydrate your dataset by entering the following command:</p>

<p><code>twarc hydrate <span style="color:blue">tweet_ids</span>.txt &gt; <span style="color:blue">tweets_hydrated</span>.jsonl</code></p>

<ul>
  <li>You now have your tweets in JSONL format ready to go in your twarc folder.</li>
</ul>

</div>

    </div>

  </body>
</html>
